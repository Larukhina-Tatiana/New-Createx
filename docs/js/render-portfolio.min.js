let portfolioData=[];function showError(e){const t=document.querySelector(".portfolio-sticky-wrapper");if(t&&!document.querySelector(".error-message")){const o=document.createElement("div");o.textContent=e,o.classList.add("error-message"),t.appendChild(o)}}function getErrorMessage(e){return e.message.includes("404")?"Файл portfolio.json не найден.":e.message.includes("500")?"Сервер вернул ошибку. Попробуйте позже.":e.message.includes("Failed to fetch")?"Нет соединения с сервером. Проверьте интернет.":"Произошла ошибка при загрузке данных."}async function loadPortfolioData(){const e=document.querySelector(".loader");e&&e.classList.add("loader--visible");try{const e=await fetch("./data/portfolio.json");if(!e.ok)throw{status:e.status};const t=await e.json();portfolioData=t,renderPortfolioItems()}catch(e){console.error("Ошибка загрузки данных:",e),showError(getErrorMessage(e))}finally{e&&e.classList.remove("loader--visible")}}function renderPortfolioItems(){const e=document.querySelector(".portfolio-tabs-content"),t=document.createDocumentFragment();portfolioData.forEach((e=>{const o=document.createElement("li");o.classList.add("tabs-content__item","tabs-content__item--visible"),o.innerHTML=`\n      <a class="section__slider-slide" id="${e.id}" href="${e.available?e.href:"#"}" data-target="${e.target}" aria-label="${e.title}" ${e.available?"":'style="pointer-events: none; cursor: not-allowed; opacity: .5" onclick="event.preventDefault(); alert(\'Страница проекта ещё в разработке.\')"'}>\n        <picture>\n          <source type="image/avif" srcset="${e.image}@1x.avif 1x, ${e.image}@2x.avif 2x">\n          <source type="image/webp" srcset="${e.image}@1x.webp 1x, ${e.image}@2x.webp 2x">\n          <img class="section__slider-img" src="${e.src}" loading="lazy" decoding="async" alt="${e.alt}">\n        </picture>\n        <div class="section__slider-content">\n          <h3 class="section__slider-title section__titleh3">${e.title}</h3>\n          <p class="section__slider-descr">${e.category}</p>\n          <div class="section__slider-link button button--regular">View Project</div>\n        </div>\n      </a>\n    `,t.appendChild(o)})),e.appendChild(t),"function"==typeof window.initTabs&&window.initTabs(),"function"==typeof window.initTabFromURL&&window.initTabFromURL()}loadPortfolioData();