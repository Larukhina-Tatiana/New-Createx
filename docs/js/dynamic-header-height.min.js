class DynamicHeaderHeight{constructor(){this.header=document.querySelector(".header"),this.debounceTimeout=null,this.header?this.init():console.warn("Header не найден")}init(){if(this.updateHeaderHeight(),window.addEventListener("resize",(()=>this.debounceUpdate())),window.addEventListener("orientationchange",(()=>{setTimeout((()=>this.updateHeaderHeight()),100)})),window.MutationObserver){new MutationObserver((()=>this.debounceUpdate())).observe(this.header,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]})}}updateHeaderHeight(){if(!this.header)return;const e=this.header.offsetHeight;document.documentElement.style.setProperty("--header-height",`${e}px`),document.documentElement.setAttribute("data-header-height",e),window.dispatchEvent(new CustomEvent("headerHeightUpdated",{detail:{height:e}}))}debounceUpdate(){clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout((()=>{this.updateHeaderHeight()}),150)}forceUpdate(){this.updateHeaderHeight()}}document.addEventListener("DOMContentLoaded",(()=>{window.dynamicHeaderHeight=new DynamicHeaderHeight})),window.addEventListener("headerHeightUpdated",(()=>{document.querySelectorAll("[id]").forEach((e=>{e.style.scrollMarginTop=getComputedStyle(document.documentElement).getPropertyValue("--header-height")}))})),"loading"===document.readyState||(window.dynamicHeaderHeight=new DynamicHeaderHeight),"undefined"!=typeof module&&module.exports&&(module.exports=DynamicHeaderHeight);